/* ========================================================= */
/* === БАЗОВЫЕ СТИЛИ: ШРИФТЫ, BODY, ОБЩИЕ СБРОСЫ, БАЗА  === */
/* ========================================================= */

/* === КАСТОМНЫЕ ШРИФТЫ === */
@font-face {
  font-family: 'geologica';
  src: url('/assets/fonts/geologica-extralight.woff') format('woff');
  font-weight: 200;
  font-style: normal;
}
@font-face {
  font-family: 'geologica';
  src: url('/assets/fonts/geologica-light.woff') format('woff');
  font-weight: 300;
  font-style: normal;
}
@font-face {
  font-family: 'geologica';
  src: url('/assets/fonts/geologica-regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
}
@font-face {
  font-family: 'geologica';
  src: url('/assets/fonts/geologica-medium.woff') format('woff');
  font-weight: 500;
  font-style: normal;
}
@font-face {
  font-family: 'geologica';
  src: url('/assets/fonts/Geologica_Auto-ExtraBold.woff') format('woff');
  font-weight: 800;
  font-style: normal;
}
@font-face {
  font-family: 'cygre';
  src: url('/assets/fonts/cygre-extrabold.woff') format('woff');
  font-weight: 800;
  font-style: normal;
}

/* === СБРОС ВЫДЕЛЕНИЯ ДЛЯ КНОПОК/СИСТЕМНЫХ КНОПОК === */
button, .nav-btn, .profile-card, .task-btn, .buy-btn, .quest-btn, .theme-toggle-btn {
  user-select: none;
  -webkit-user-select: none;
}
button:focus,
button:active,
button:focus-visible {
  outline: none;
}

/* === ГЛОБАЛЬНЫЕ НАСТРОЙКИ BODY === */
body {
  background-color: #0A0A0A;         /* Фоновый цвет приложения */
  max-width: 100%;                   /* Защита от горизонтального скролла */
  overflow-x: hidden;                /* Отключаем горизонтальный скролл */
  overflow-y: auto;                  /* Всегда можно скроллить вниз */
  touch-action: pan-y;               /* Мягкий скролл на тачах */
  box-sizing: border-box;            /* Удобная модель бокса по умолчанию */
  margin: 0;
  padding: 0;
  overscroll-behavior: none;         /* Без bounce-эффекта */
}

/* === ГЛАВНЫЙ КОНТЕЙНЕР ПРИЛОЖЕНИЯ === */
#main-app {
  /* Отступы для safe-area (чтобы ничего не уезжало под статус-бар/меню) */
  padding-top: calc(40px + env(safe-area-inset-top));
  padding-bottom: calc(70px + env(safe-area-inset-bottom));
  min-height: 100vh;                 /* Минимальная высота для фуллскрина */
  box-sizing: border-box;
}

/* ============================== */
/* === СПЛЭШ-ЭКРАН (ЗАГРУЗКА) === */
/* ============================== */

/* ——— Обёртка сплэш-экрана, показывается при загрузке ——— */
#splash {
  position: fixed;
  z-index: 9999;
  top: 0; left: 0; right: 0; bottom: 0;
  background: #0A0A0A;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: opacity 0.5s ease;
  pointer-events: none; /* блокирует клики во время загрузки */
}

/* ——— Логотип в центре экрана ——— */
.splash-logo {
  width: 160px;
  height: auto;
  margin-bottom: 30px;
}

/* ——— Обёртка прогресс-бара ——— */
.progress-bar-bg {
  width: 100%;
  height: 8px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  overflow: hidden;
}

/* ——— Заполнение прогресс-бара (анимируется через JS) ——— */
.progress-bar-fill {
  width: 0%;
  height: 100%;
  background: #9EFF44;
  transition: width 0.5s ease-in-out;
}

/* ================================ */
/* === БАЗОВАЯ СТРУКТУРА СТРАНИЦ === */
/* ================================ */

.page {
  min-height: calc(100vh - 70px);     /* Полная высота за вычетом нижнего меню */
  padding: 20px;                      /* Отступы внутри страницы */
  box-sizing: border-box;            /* Учитываем padding в ширину/высоту */
  overflow-y: auto;                  /* Вертикальный скролл при переполнении */
  overflow-x: hidden;                /* Предотвращаем горизонтальный скролл */
  height: 100%;                      /* Минимальное растяжение по высоте */
  -webkit-overflow-scrolling: touch; /* Плавный скролл на iOS */
}

/* =============================== */
/* === НАВИГАЦИЯ (нижнее меню) === */
/* =============================== */

/* --- Контейнер нижнего меню --- */
.nav-menu {
  padding-bottom: env(safe-area-inset-bottom); /* учёт безопасной зоны на телефонах */
  position: fixed;
  left: 0; right: 0; bottom: 0;
  height: 70px;
  display: flex;
  justify-content: space-around;
  padding-top: 8px;
  z-index: 999;
  background: rgba(0, 0, 0, 0.75); /* полупрозрачный фон */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-top-left-radius: 10px;
  border-bottom-right-radius: 10px;
  overflow: visible;
}

/* --- Кнопка навигации (кружок) --- */
.nav-btn {
  position: relative;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50px;
  height: 50px;
  border-radius: 50%;
}

/* --- Специально для иконки Home (если есть доп. эффекты) --- */
.home-icon {
  z-index: 1000;
}

/* --- Фон активной кнопки (синий круг, двигается под активной иконкой) --- */
.nav-bg {
  top: 8px;
  position: absolute;
  background: #317BFF;
  border-radius: 50%;
  z-index: 1;
  opacity: 0.5;
  transition: left 0.3s cubic-bezier(.68,-0.55,.27,1.55); /* плавное перемещение */
  width: 50px;
  height: 50px;
  left: 0;
  pointer-events: none;
}

/* ================================== */
/* === ГЛАВНАЯ СТРАНИЦА (HOME)    === */
/* ================================== */

/* Заголовок на главной */
.title {
  margin-bottom: 30px;
  font-family: 'cygre';
  color: white;
  font-size: 24px;
  font-weight: 800;
  letter-spacing: 1px;
  text-align: center;
  text-transform: uppercase;
}

/* Второй подзаголовок */
.drop-title {
  margin-bottom: 15px;
}

/* Таймер до дропа */
.drop-timer {
  font-family: 'geologica';
  font-size: 14px;
  color: white;
  opacity: 0.5;
  text-align: center;
  margin-top: -15px;
  margin-bottom: 30px;
}

/* Слайдер карточек (обертка и изображения) */
.carousel {
  position: relative;
  width: 100%;
  display: flex;
  align-items: center;
  flex-direction: column;  
}
.carousel-images {
  display: flex;
  gap: 15px;
  flex-shrink: 0;
  user-select: none;
  pointer-events: none;
}
.carousel-img {
  min-width: 140px;
  height: 140px;
  object-fit: cover;
  user-select: none;
  pointer-events: none;
  border-radius: 10px;
  display: block;
}
.carousel-wrapper {
  position: relative;
  width: calc(100% + 40px);
  margin-left: -20px;
  margin-right: -20px;
  overflow: hidden;
}

/* Слот для текущего дропа */
.drop-slot {
  flex-shrink: 0;
  flex-grow: 0;
  width: 160px;
  height: 160px;
  border-radius: 12px;
  background-color: #1A1A1A;
  border: 1px solid rgba(255, 255, 255, 0.1);
  pointer-events: none;
  user-select: none;
}

/* Кнопка "Получить дроп" */
.start-btn {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-left: auto;
  margin-right: auto;
  margin-top: 20px;
  margin-bottom: 50px;
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 400;
  background-color: #9EFF44;
  border-radius: 100px;
  border: none;
  color: black;
  padding: 10px 25px;
}

/* Карточка на главной (большой блок) */
.card-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
}
.main-card {
  width: 100%;
  height: 200px;
  background: #ffffff;
  border-radius: 24px;
  position: relative;
  box-shadow: 0 6px 32px rgba(0,0,0,0.13);
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  overflow: hidden;
  margin-bottom: 20px;
}
.card-footer {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 150px;
  height: 50px;
  background: #0A0A0A;
  border-top-left-radius: 25px;
  border-top-right-radius: 25px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  z-index: 2;
}

/* Кнопка "В магазин" */
.shop-btn {
  font-family: 'geologica';
  font-size: 16px;
  margin-top: 10px;
  padding-left: 25px;
  padding-right: 25px;
  padding-top: 8px;
  padding-bottom: 10px;
  font-weight: 400;
  color: black;
  background: #9EFF44;
  border: none;
  border-radius: 100px;
  cursor: pointer;
  z-index: 3;
}

/* -------------------- */
/* === БЛОК ЗАДАНИЙ === */
/* -------------------- */

/* Контейнер одного задания */
.task {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-radius: 16px;
  background-color: #ffffff;
  color: black;
  font-size: 13px;
  font-weight: 200;
  padding: 10px 10px 10px 20px;
  margin-bottom: 10px;
  box-sizing: border-box;
}

/* Контейнер всех заданий */
.tasks {
  font-family: 'geologica';
}

/* Блок для подписки */
.subs {
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 4px;
}

/* Название канала (первая строка) */
.sub-1 {
  font-family: 'geologica';
  color: black;
  font-weight: 500;
  font-size: 16px;
  margin-bottom: 0px;
}
/* Описание задания (вторая строка) */
.sub-2 {
  font-family: 'geologica';
  color: black;
  opacity: 0.7;
  font-weight: 400;
  font-size: 16px;
}

/* Кнопка задания */
.task-btn {
  width: 72px;
  height: 53px;
  border-radius: 16px;
  border: none;
  background: #317BFF;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  padding: 0;
}
.task-btn img {
  width: 22px;
  height: 22px;
}

/* Кнопка "Все квесты" */
.quests-btn {
  display: block;
  margin: 20px auto 0 auto;
  padding: 17px 28px;
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 500;
  color: black;
  background-color: #9EFF44;
  border: none;
  border-radius: 100px;
  cursor: pointer;
  transition: background 0.2s ease;
}
.quests-btn:hover {
  background-color: #85db37; 
}

/* ================================================= */
/* === СТРАНИЦА: МАГАЗИН / SHOP ==================== */
/* ================================================= */

/* Обёртка отдельной карточки товара */
.card {
  display: flex;
  flex-direction: column;
  width: 100%;
  max-width: 300px;
  justify-content: center;
  align-items: center;
}

/* Сетка карточек магазина (несколько карточек в ряд) */
.cards {
  margin-bottom: 50px;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 20px;
}

/* Кнопка "Купить" */
.buy-btn {
  background-color: #9EFF44;
  color: black;
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 500;
  border: none;
  border-radius: 100px;
  padding: 10px 25px;
  margin-top: 20px;
  cursor: pointer;
}

/* Квадратная обложка карточки (товар) */
.square {
  width: 100%;
  max-width: 300px;
  aspect-ratio: 1/1;
  background-color: white;
  border-radius: 24px;
  display: flex;
  flex-direction: column;
}

/* Обёртка для блока коллекции в магазине (может быть дроп/выборка) */
.clc {
  display: flex;
  width: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  margin-bottom: 50px;
}

/* Кнопка "Ещё" (например, для подгрузки товаров) */
.more-btn {
  background-color: #9EFF44;
  color: black;
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 500;
  border: none;
  border-radius: 100px;
  padding: 10px 25px;
  margin-top: 20px;
  cursor: pointer;
}

/* Широкая карточка/баннер (например, спецпредложение или баланс) */
.clc-card {
  width: 100%;
  max-width: 620px;
  height: 230px;
  display: flex;
  background-color: white;
  border-radius: 24px;
  align-items: center;
  justify-content: center;
}

/* Заголовок раздела магазина */
.title-shop {
  width: 100%;
  display: flex;
  justify-content: center;
}

/* Стиль суммы баланса/цены (выделение цифр) */
.balance-amount {
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  color: black;
  line-height: 1.1;
}

/* Вариант опции пополнения баланса (например, 500F за 100₽) */
.balance-card-option {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: white;
  border-radius: 24px;
  padding: 10px 10px 10px 20px;
  color: black;
  box-sizing: border-box;
}

/* ===================================================== */
/* === СТРАНИЦА: МОЯ КОЛЛЕКЦИЯ / COLLECTION ============ */
/* ===================================================== */

/* --- Верхний хедер коллекции: заголовок и кнопка "обмен" --- */
.collection-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.collection-title {
  font-family: 'cygre';
  font-size: 20px;
  color: white;
  font-weight: 800;
  padding: 0;
  margin: 30px 0 0 0;
  text-align: left;
}

.exchange-btn {
  font-family: 'cygre';
  font-size: 20px;
  color: white;
  opacity: 0.5;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0 20px;
  margin-top: 30px;
}

/* --- Блок сортировки коллекции и меню сортировки --- */
.collection-sort {
  font-family: 'geologica';
  font-weight: 300;
  font-size: 14px;
  color: white;
  margin-bottom: 20px;
}

.sort-icon {
  width: 12px;
  height: 12px;
  margin-left: 5px;
  vertical-align: middle;
  transform: translateY(-1px);
}

.collection-sort-wrapper {
  position: relative;
  display: inline-block;
}

.collection-sort-menu {
  position: absolute;
  top: 100%;
  left: 0;
  margin-top: -10px;
  padding: 12px;
  background: #222;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  z-index: 1000;
  display: none;
  min-width: 160px;
}

.sort-option {
  font-family: 'geologica';
  font-size: 16px;
  color: white;
  padding: 6px 0px;
  cursor: pointer;
  transition: opacity 0.2s;
  text-align: left;
}
.sort-option:hover { opacity: 0.8; }
.sort-option.active { opacity: 0.5; }

/* --- Сетка карточек коллекции (2 в ряд) --- */
.collection-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  box-sizing: border-box;
  overflow-x: hidden;
  max-width: 100%;
}

/* --- Внешний контейнер карточки --- */
.card-placeholder {
  aspect-ratio: 1;
  border-radius: 24px;
  overflow: hidden;
  background: none;
  padding: 0;
  display: flex;
  align-items: stretch;
  justify-content: center;
}

/* --- Внутреннее содержимое карточки (фон и содержимое) --- */
.card-inner {
  background: white;
  border-radius: 24px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 100%;
  width: 100%;
}

/* --- Картинка/обложка карточки --- */
.card-img {
  width: 100%;
  height: auto;
  aspect-ratio: 1;
  object-fit: cover;
}

/* --- Подпись под карточкой (название/артист) --- */
.card-label {
  padding: 10px 8px 14px;
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 300;
  text-align: center;
  color: black;
}

/* --- Поиск: строка и fab-кнопка --- */
.search-bar {
  z-index: 99999;
  position: fixed;
  bottom: 80px;
  left: 20px;
  right: 20px;
  height: 50px;
  background: #1A1A1A;
  border-radius: 24px;
  display: flex;
  align-items: center;
  padding: 0 16px;
  gap: 10px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  z-index: 10;
}

.search-bar input {
  flex: 1;
  background: transparent;
  border: none;
  color: white;
  font-family: 'geologica';
  font-size: 14px;
  outline: none;
}

.search-icon {
  width: 20px;
  height: 20px;
  opacity: 0.6;
}

/* --- FAB-кнопка поиска --- */
.search-fab {
  position: fixed;
  bottom: calc(80px + env(safe-area-inset-bottom));
  left: 20px;
  height: 50px;
  width: 50px;
  background: #888888;
  border-radius: 50%;
  display: flex;
  align-items: center;
  padding: 0 16px;
  gap: 10px;
  z-index: 1001;
  box-sizing: border-box;
  transition: width 0.3s ease, border-radius 0.3s ease, background 0.3s ease;
  overflow: hidden;
}
.search-fab.open {
  width: calc(100% - 40px);
  border-radius: 100px;
}
.search-fab img.search-icon {
  flex-shrink: 0;
  width: 20px;
  height: 20px;
  opacity: 0.8;
  cursor: pointer;
}
.search-fab .search-input {
  flex: 1;
  background: transparent;
  border: none;
  color: white;
  font-family: 'geologica';
  font-size: 14px;
  outline: none;
  display: none;
  transition: opacity 0.3s ease;
}
.search-fab.open .search-input {
  display: block;
}

/* ========================================= */
/* === СТРАНИЦА: ДЕТАЛИ КАРТОЧКИ (КОЛЛЕКЦИЯ) === */
/* ========================================= */

/* --- Основной контейнер страницы деталей карточки --- */
#card-detail-page {
  display: none;                      /* Скрыто по умолчанию */
  flex-direction: column;
  background: #0A0A0A;
  color: white;
  position: fixed;                    /* Страница на весь экран */
  inset: 0;
  z-index: 100;
  overflow-y: auto;
  scrollbar-width: none;
  padding-top: 100px;                 /* Отступ сверху под заголовок/меню */
  padding-bottom: 20px;
}
#card-detail-page::-webkit-scrollbar {
  display: none;                      /* Прячем скроллбар */
}

/* --- Обёртка всего содержимого (снизу отступ под меню) --- */
.card-detail-wrapper {
  flex: 1 1 auto;
  padding-bottom: 50px;
}

/* === ВЕРХНЯЯ ЧАСТЬ === */
.card-top {
  text-align: center;
}

.card-title {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  text-transform: uppercase;
  line-height: 1;
}

.card-artist {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 900;
  text-transform: uppercase;
  margin-bottom: 20px;
  line-height: 1;
}

.card-image {
  width: 100%;
  margin-bottom: 20px;
  object-fit: cover;
}

/* === КНОПКИ ОБМЕНА И ПОДАРКА === */
.card-buttons {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 32px;
}
.card-action-btn {
  flex: 1;
  background: white;
  color: black;
  border: none;
  padding: 15px 0;
  border-radius: 100px;
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 500;
  text-transform: lowercase;
  cursor: pointer;
  transition: background 0.2s ease;
}
.card-action-btn:hover {
  background: #e6e6e6;
}

/* === БЛОК ИНФОРМАЦИИ О КАРТОЧКЕ === */
.card-bottom {
  background: transparent;
}

/* Верхняя строка с редкостью (по центру) */
.card-rarity {
  text-align: center;
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  letter-spacing: 1px;
  color: white;
  margin-bottom: 20px;
}

/* --- Детали редкости: артист, альбом, скин --- */
.card-rarity-details {
  display: flex;
  flex-direction: column;
  gap: 5px;
  font-family: 'geologica';
  font-size: 18px;
  font-weight: 300;
  color: white;
  margin-bottom: 20px;
}
.card-rarity-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}
.card-rarity-label {
  flex: 1;
  text-align: left;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.card-rarity-value {
  flex-shrink: 0;
  text-align: right;
  font-weight: 300;
}

/* === СТАТИСТИКА КАРТОЧКИ === */
.stats-title {
  text-align: center;
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: white;
  margin-bottom: 20px;
}
.card-stats {
  font-family: 'geologica';
  font-size: 18px;
  font-weight: 300;
  color: white;
}
.info-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 5px;
}
.info-label {
  text-align: left;
}
.info-value {
  text-align: right;
}

/* --- Разделительная линия --- */
.card-divider {
  width: 100%;
  height: 0.5px;
  background-color: rgba(255, 255, 255, 0.5);
  margin: 25px 0 15px;
  border: none;
}

/* --- Кнопка "Удалить" --- */
.card-delete {
  text-align: center;
  font-family: 'geologica';
  font-weight: 200;
  font-size: 18px;
  margin-top: 22px;
  color: #FF7878;
  cursor: pointer;
}

/* ========================= */
/* === СТРАНИЦА ПРОФИЛЯ  === */
/* ========================= */

/* --- Заголовок профиля --- */
.title-profile {
  font-size: 24px;
  color: white;
}

/* --- Блок аватара и заголовка --- */
.profile-header {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* --- Аватар пользователя --- */
.avatar {
  width: 60px;
  height: 60px;
  background-color: white;
  border-radius: 50%;
  flex-shrink: 0;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

.avatar.big {
  width: 80px;
  height: 80px;
  margin-bottom: 15px;
}

/* --- Информация о пользователе (ник, уровень, разделитель) --- */
.profile-info {
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 300;
  color: white;
  text-align: center;
  margin: 0;
  display: flex;
  gap: 5px;
  align-items: center;
  justify-content: center;
}
.profile-info .level-text {
  font-weight: 300;
  color: white;
}
.profile-info .dot {
  font-family: 'geologica';
  font-weight: 300;
  font-size: 9px;
  color: white;
  line-height: 1;
  user-select: none;
  transform: translateY(1px);
  display: inline-block;
  opacity: 0.5;
}

/* --- ID пользователя под ником --- */
.user-id {
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 300;
  color: rgba(255, 255, 255, 0.5);
  margin-top: 5px;
}

/* --- Карточка баланса --- */
.balance-card-new {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: white;
  border-radius: 24px;
  padding: 10px 10px 10px 20px;
  margin-top: 15px;
  width: 100%;
  box-sizing: border-box;
}

.balance-info {
  display: flex;
  flex-direction: column;
  color: black;
  line-height: 1;
  gap: 0px;
}
.balance-info .balance-label {
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 300;
  line-height: 1;
}
.balance-info .balance-value {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  line-height: 1;
}

/* --- Кнопка "+" для пополнения --- */
.balance-add-btn {
  width: 70px;
  height: 70px;
  border-radius: 16px;
  background: #317BFF;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.balance-add-btn img {
  width: 40px;
  height: 40px;
}

/* --- Карточки профиля (навигация) --- */
.profile-cards {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin: 20px 0;
}
.profile-card {
  line-height: 1.1;
  text-align: left;
  background: white;
  color: black;
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  border-radius: 24px;
  padding: 20px 20px;
  border: none;
  cursor: pointer;
  transition: background-color 120ms ease;
}
.profile-card:active {
  background-color: #888888;
}

/* --- Спец-стили для статусов карточек профиля --- */
.profile-card.is-disabled {
  background: #B2B2B2;
  color: black;
  line-height: 1.1;
  transition: transform 0.2s ease, background 0.2s ease;
}
.profile-card.has-badge {
  position: relative;
}
.profile-card .badge-dev {
  font-family: 'geologica';
  font-size: 12px;
  font-weight: 300;
  color: black;
  background: #9EFF44;
  border-radius: 100px;
  padding: 10px 10px;
  position: absolute;
  right: 10px;
  bottom: 10px;
  line-height: 1;
  pointer-events: none;
}

/* --- Анимация нажатия для быстрых действий профиля --- */
#exchange:active,
#mini-games:active,
#level:active {
  background-color: #888888;
  transition: background-color 120ms ease;
}

/* --- Блоки уровня пользователя (мини-карточки) --- */
.level-main,
.level-percent,
.level-label {
  line-height: 1;
}
.level-card {
  all: unset;
  display: flex;
  flex-direction: column;
  background: white;
  border-radius: 24px;
  padding: 20px;
  font-weight: 300;
  position: relative;
  overflow: hidden;
  box-sizing: border-box;
  cursor: pointer;
}
.level-card:active {
  background: #eaeaea;
}
.level-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}
.level-label {
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 300;
  opacity: 0.5;
  margin-bottom: 5px;
}
.level-percent {
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 300;
  opacity: 0.5;
}
.level-main {
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
}
.level-bar {
  width: 100%;
  height: 7px;
  background: white;
  border-radius: 10px;
  position: relative;
  overflow: hidden;
  margin-top: 6px;
}
.level-fill {
  position: absolute;
  height: 100%;
  top: 0;
  left: 0;
  transform-origin: left;
}
.level-fill.green {
  background: #9EFF44;
  width: 100%;
  z-index: 1;
}
.level-fill.blue {
  background: #317BFF;
  width: 50%;
  z-index: 2;
  transform: scaleX(0);
  animation: fillGrow 0.8s ease-out forwards;
}
@keyframes fillGrow {
  to {
    transform: scaleX(1);
  }
}

/* --- Блок НАСТРОЕК профиля --- */
.settings {
  width: 100%;
  box-sizing: border-box;
  margin-top: 30px;
}
.settings-title {
  margin-bottom: 30px;
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  text-align: center;
}
.settings-grid {
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: stretch;
}
.setting-card {
  background: white;
  color: black;
  font-family: 'cygre';
  font-size: 16px;
  font-weight: 800;
  border-radius: 24px;
  padding: 20px;
  text-align: left;
  box-sizing: border-box;
  line-height: 1.2;
  transition: background 0.2s ease;
  border: none;
  cursor: pointer;
}
.setting-card:active {
  background: #e0e0e0;
}

/* ==================================== */
/* === СТРАНИЦА: ПОПОЛНЕНИЕ БАЛАНСА === */
/* ==================================== */

/* ——— Заголовок экрана ——— */
.balance-title {
  font-family: 'cygre';
  font-size: 22px;
  font-weight: 800;
  color: white;
  text-align: center;
  margin: 25px 0 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* ——— Коробка текущего баланса ——— */
.balance-box {
  width: 100%;
  background: white;
  border: 3px solid #317BFF;
  border-radius: 24px;
  padding: 15px 20px 20px;
  margin: 45px 0;
  text-align: center;
  box-sizing: border-box;
}
.balance-label {
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 300;
  color: #888;
  margin-bottom: 10px;
}
.balance-value {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: black;
  display: inline-flex;
  align-items: center;
  gap: 1px;
}
.flip-icon-small {
  width: 40px;
  height: 40px;
}

/* ——— Подзаголовок: выбери сумму ——— */
.topup-title {
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  color: white;
  text-align: center;
  margin: 25px 0 35px;
  text-transform: uppercase;
}

/* ——— Сетка карточек пополнения ——— */
.topup-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 15px;
}
.topup-card {
  background: #242842;
  border-radius: 12px;
  padding: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  justify-content: space-between;
  transition: border 0.2s ease, box-shadow 0.2s ease;
  border: 2px solid transparent;
}
.topup-card.active {
  border: 2px solid #9EFF44;
  box-shadow: 0 0 0 2px #0f0 inset;
  border-radius: 14px;
}
.topup-card.error {
  border: 2px solid red !important;
  box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.3);
}
.topup-icon {
  width: auto;
  height: 75px;
  display: block;
  image-rendering: auto;
}
.topup-amount {
  font-family: 'cygre';
  font-size: 18px;
  font-weight: 800;
  color: white;
}
.topup-price {
  font-family: 'cygre';
  font-size: 12px;
  font-weight: 800;
  color: black;
  background: #9EFF44;
  border-radius: 8px;
  padding: 8px 0;
  margin-top: 13px;
  width: 100%;
  text-align: center;
  box-sizing: border-box;
}

/* ——— Ввод вручную ——— */
.amount-input {
  width: 100%;
  padding: 25px 20px;
  font-size: 14px;
  font-family: 'geologica';
  font-weight: 500;
  background: white;
  color: rgba(0, 0, 0, 0.3);
  border: 2px solid transparent;
  border-radius: 16px;
  margin-bottom: 15px;
  box-sizing: border-box;
}
.amount-input:focus {
  outline: none;
  border: 2px solid #9EFF44;
}
#custom-amount.error {
  border: 2px solid red !important;
  box-shadow: 0 0 0 2px rgba(255, 0, 0, 0.3);
}

/* ——— Подсчёт получу/заплачу ——— */
.custom-amount-counter {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
  padding: 0 12px;
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 500;
  color: white;
  margin: 15px 0 25px;
}
.custom-amount-counter div {
  width: 100%;
  display: flex;
  justify-content: space-between;
}
.custom-amount-counter span {
  color: #ffffff;
}

/* ——— Swipe-кнопка оплаты ——— */
.topup-pay-btn {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 0 6px;
  width: 100%;
  height: 70px;
  border: none;
  border-radius: 100px;
  background: white;
  font-family: 'cygre';
  font-size: 18px;
  font-weight: 800;
  color: gray;
  box-sizing: border-box;
  cursor: pointer;
  overflow: hidden;
}

/* Круглая кнопка (ползунок) */
#slider-circle {
  position: absolute;
  top: 5px;
  left: 6px;
  width: 80px;
  height: 60px;
  border-radius: 100px;
  background: #D9D9D9;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: grab;
  transition: background 0.2s ease;
  z-index: 2;
  touch-action: pan-y;
}

/* Центр: текст + иконка */
.slider-center {
  flex: 1;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 1;
}
#slider-text {
  font-family: 'cygre';
  font-size: 18px;
  font-weight: 800;
  color: gray;
  transition: color 0.2s ease;
  pointer-events: none;
}

/* Иконка корзины */
#confirm-icon {
  position: absolute;
  right: 0;
  width: 80px;
  height: 60px;
  background: #9EFF44;
  border-radius: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.2s ease;
}

/* ====================================== */
/* === СТРАНИЦА: ДОСТИЖЕНИЯ / НАГРАДЫ === */
/* ====================================== */

/* ——— Заголовок и количество ——— */
.achievements-title {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  text-align: center;
  margin-top: 16px;
  margin-bottom: 5px;
}
.achievements-subcount {
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  color: white;
  opacity: 0.8;
  text-align: center;
  margin-bottom: 20px;
}

/* ——— Список всех достижений ——— */
.achievements-list {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* ——— Карточка одного достижения ——— */
.achievement-card {
  background: white;
  border-radius: 20px;
  padding: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

/* ——— Левая часть карточки: контент ——— */
.achievement-content {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.achievement-content .achievement-title {
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  color: black;
  margin-bottom: 1px;
}
.achievement-content .achievement-subtitle {
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 300;
  color: black;
  opacity: 0.8;
  margin-bottom: 15px;
}

/* ——— Правая часть: иконка/прогресс/кнопка ——— */
.achievement-icon {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: #3F8CFF;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}
.achievement-icon img {
  width: 32px;
  height: 24px;
}
.achievement-icon.progress {
  background: none;
  color: #3F8CFF;
  font-family: 'geologica';
  font-size: 12px;
  font-weight: 500;
}

/* ——— SVG-прогресс (кольцо вокруг иконки) ——— */
.progress-ring {
  position: relative;
  width: 100px;
  height: 100px;
}
.progress-svg {
  transform: rotate(-90deg);
  width: 100%;
  height: 100%;
}
.progress-svg circle {
  fill: none;
  stroke-width: 1;
}
.ring-green {
  stroke: #B4FF5B;
  stroke-linecap: round;
}
.ring-blue {
  stroke: #00AFFF;
  stroke-linecap: round;
  transition: stroke-dashoffset 1s ease;
}
.ring-green, .ring-blue {
  stroke-width: 1;
}
.progress-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 500;
  color: #333333;
}

/* ——— Кнопки действий ——— */
.achievement-btn {
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 300;
  border-radius: 50px;
  padding: 12px 25px;
  border: none;
  cursor: pointer;
  width: fit-content;
  white-space: nowrap;
}
.achievement-btn.green {
  background: #9EFF44;
  color: black;
}
.achievement-btn.ghost {
  background: white;
  color: black;
  border: 1px solid #333333;
}
.achievement-btn.blue {
  background: #317BFF;
  color: white;
  cursor: default;
  pointer-events: none;
}

/* =================================== */
/* === СТРАНИЦА: МОЙ СЧЁТ / УРОВНИ === */
/* =================================== */

/* ——— Обёртка страницы ——— */
.balance-page {
  padding: 20px;
  display: none;
  overflow-y: auto;
  position: relative;
}

/* ——— Заголовок страницы ——— */
.balance-title {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  text-align: center;
  margin-top: 16px;
  margin-bottom: 5px;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* ——— Трек уровней (центральная линия + уровни) ——— */
.level-track {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 25px;
  margin-bottom: 20px;
  position: relative;
}

/* ——— Карточка уровня ——— */
.level {
  line-height: 1;
  width: 120px;
  height: 120px;
  border-radius: 50%;
  font-family: 'geologica';
  font-size: 72px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  box-sizing: border-box;
}
.level.passed {
  background-color: #317BFF;
  color: white;
}
.level.current {
  background-color: transparent;
  border: 2px solid #9EFF44;
  color: #9EFF44;
}
.level.upcoming {
  background-color: transparent;
  border: 2px solid rgba(255,255,255,0.2);
  color: rgba(255,255,255,0.4);
}

/* ——— Линии между уровнями (различные состояния) ——— */
.dotted-line,
.dotted-line.current-link,
.dotted-line.half-next,
.dotted-line.half-up,
.dotted-line.invisible {
  width: 3px;
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0.2) 6px,
    transparent 6px,
    transparent 12px
  );
}
.dotted-line {
  height: 50px;
}
.dotted-line.passed {
  background-image: repeating-linear-gradient(
    to bottom,
    #9EFF44,
    #9EFF44 6px,
    transparent 6px,
    transparent 12px
  );
}
.dotted-line.current-link { height: 50px; }
.dotted-line.half-next,
.dotted-line.half-up { height: 25px; }
.dotted-line.invisible {
  height: 25px;
  visibility: hidden;
}

/* ——— Плашка уровня внизу (sticky bar) ——— */
.level-status-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 100px;
  background-color: #317BFF;
  border-top-left-radius: 24px;
  border-top-right-radius: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  text-align: center;
  color: white;
  transition: height 0.3s ease;
  touch-action: pan-y;
  will-change: height;
}
.status-inner {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: height 0.25s ease;
}
.status-text {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  line-height: 1.4;
  margin: 0;
  padding: 0;
}
.status-text .xp-left {
  font-size: 24px;
  font-weight: 800;
}

/* ====================================== */
/* === СТРАНИЦА: ЗАДАНИЯ И КВЕСТЫ ======= */
/* ====================================== */

.quests-page {
  padding: 20px;
  display: none;
  overflow-y: auto;
  position: relative;
}

.quests-title {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  text-align: center;
  margin-top: 16px;
  margin-bottom: 30px;
  letter-spacing: 1px;
  text-transform: uppercase;
}

.daily-reward {
  background: white;
  border-radius: 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-sizing: border-box;
  width: 100%;
  margin: 20px 0;
  padding-left: 20px; 
}

.reward-info {
  font-family: 'cygre';
  font-size: 18px;
  font-weight: 800;
  color: black;
}

.reward-btn {
  background: #9EFF44;
  color: black;
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 300;
  padding: 20px 27px;
  border: none;
  border-radius: 16px;
  min-width: 140px;
  text-align: center;
  cursor: pointer;
  transition: background 0.3s ease;
  margin: 10px;
}

.reward-btn:disabled {
  cursor: default;
  background: #9EFF44;
  opacity: 1;
}

/* ——— Заголовки и контент квестов ——— */

.quests-tasks {
  margin-top: 20px;
}

.quests-subtitle {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  text-align: center;
  margin-top: 50px;
  margin-bottom: 23px;
  text-transform: uppercase;
}

.quest-card {
  background: white;
  border-radius: 24px;
  display: flex;
  flex-direction: column;
  padding: 20px 20px;
  font-family: 'geologica';
  color: black;
  margin-top: 20px;
  gap: 12px;
}

.quest-info {
  display: flex;
  flex-direction: column;
  font-size: 16px;
  font-weight: 400;
}

.quest-title {
  font-family: 'cygre';
  font-size: 16px;
  font-weight: 800;
  margin-bottom: 24px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

.quest-sub {
  font-family: 'geologica';
  font-weight: 300;
  font-size: 16px;
  opacity: 0.8;
  line-height: 1.25;
}

.quest-btn {
  background: #317BFF;
  color: white;
  border: none;
  border-radius: 16px;
  padding: 14px 32px;
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 300;
  cursor: pointer;
  align-self: flex-end;
  margin: 0 0 0 10px;
}
.quest-btn.completed {
  background: #9EFF44;
  color: black;
  cursor: default;
  pointer-events: none;
}

.quest-bottom {
  display: flex;
  flex-direction: row;
  align-items: flex-end;
  justify-content: space-between;
  gap: 10px;
}

/* ================================= */
/* === СТРАНИЦА: ТАБЛИЦА ЛИДЕРОВ === */
/* ================================= */

/* Главный контейнер страницы таблицы лидеров */
.leaderboard-page {
  padding: 20px;
  display: none;           /* По умолчанию скрыта, показывается через JS */
  overflow-y: auto;        /* Вертикальный скролл для длинного списка */
  position: relative;
}

/* Заголовок страницы */
.leaderboard-title {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  text-align: center;
  margin-top: 16px;
  margin-bottom: 30px;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* Список карточек лидеров */
.leaderboard-list {
  display: flex;
  flex-direction: column;
}

/* Одна карточка участника таблицы лидеров */
.leader-card {
  background: white;
  border-radius: 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  font-family: 'geologica';
  color: black;
  margin-bottom: 10px;
}

/* Для выделения своей позиции (например, текущий пользователь) */
.leader-card.my-position {
  border: 3px solid #317BFF;
}

/* Позиция в рейтинге (номер места) */
.leader-rank {
  font-weight: 300;
  font-size: 14px;
  opacity: 0.5;
}

/* Аватарка пользователя */
.leader-avatar {
  width: 50px;
  height: 50px;
  background: lightgray;         /* Серый фон-заглушка */
  border-radius: 50%;           /* Круглая форма */
  margin: 0 10px;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Имя пользователя */
.leader-name {
  font-family: 'geologica';
  flex: 1;                      /* Занимает всё доступное пространство */
  font-weight: 300;
  font-size: 14px;
}

/* Количество опыта (XP) */
.leader-xp {
  font-family: 'cygre';
  font-weight: 800;
  font-size: 20px;
}

/* ================================ */
/* === СТРАНИЦА: МОЯ СТАТИСТИКА === */
/* ================================ */

/* Главный контейнер страницы статистики */
.stat-page {
  padding: 20px;
  display: none;           /* По умолчанию скрыта, показывается через JS */
  overflow-y: auto;        /* Вертикальный скролл для длинного списка */
  position: relative;
}

/* Заголовок страницы */
.stat-title {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  text-align: center;
  margin-top: 16px;
  margin-bottom: 10px;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* Подзаголовок — дополнительная информация */
.stat-subtitle {
  font-family: 'geologica';
  font-size: 18px;
  font-weight: 300;
  color: white;
  text-align: center;
  opacity: 0.8;
  margin-top: -10px;
  margin-bottom: 30px;
}

/* Список всех карточек статистики */
.stat-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Одна карточка со статистикой */
.stat-card {
  background: white;
  border-radius: 24px;
  padding: 20px 24px;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: 'geologica';
  color: black;
}

/* Название показателя (например, “Всего карточек”) */
.stat-label {
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  text-align: center;
  text-transform: uppercase;
}

/* Значение показателя */
.stat-value {
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 300;
  margin-top: 15px;
}

/* ================================== */
/* === ОВЕРЛЕИ: БАЗОВАЯ СТРУКТУРА === */
/* ================================== */

/*
.overlay — универсальный базовый класс для любого модального окна (overlay).
Все модальные окна и всплывающие блоки (например, подтверждение удаления, попап задач и т.д.) используют эту основу.
*/
.overlay {
  display: none;                             /* Скрыт по умолчанию, показывается через JS */
  position: fixed;                           /* Перекрывает весь экран */
  inset: 0;                                  /* Сокращённая запись для top: 0; right: 0; bottom: 0; left: 0; */
  background: rgba(0, 0, 0, 0.6);            /* Тёмный полупрозрачный фон */
  backdrop-filter: blur(5px);                /* Размытие фона позади overlay */
  z-index: 1000;                             /* Поверх основного интерфейса, но ниже некоторых специальных попапов */
  align-items: center;                       /* Центрирование контента по вертикали */
  justify-content: center;                   /* Центрирование по горизонтали */
  transition: opacity 0.3s ease;             /* Плавное появление/скрытие */
  opacity: 0;                                /* Скрыт (но display: none — основное) */
  pointer-events: none;                      /* Не принимает клики, пока не показан */
}

/*
.overlay.show — активное состояние overlay.
В этом состоянии overlay становится видимым и начинает принимать события мыши/тача.
*/
.overlay.show {
  display: flex;                             /* Показываем overlay (flex-режим) */
  opacity: 1;                                /* Делаем полностью видимым */
  pointer-events: all;                       /* Overlay принимает все клики */
}

/*
.overlay-inner — внутренний контейнер для содержимого overlay.
Используется для отступов и ограничений ширины контента (например, чтобы попап не растягивался на весь экран).
*/
.overlay-inner {
  width: 100%;                               /* Обычно подстраивается под ширину устройства */
  margin: 0 auto;                            /* Центрирование по горизонтали */
  padding: 20px 20px 40px;                   /* Отступы сверху, по бокам и снизу (для комфортного размещения контента) */
  box-sizing: border-box;                    /* Корректно считаем padding в ширину */
}

/* =============================== */
/* === ОВЕРЛЕИ: БАЗОВАЯ СТРУКТУРА === */
/* =============================== */

/* Универсальный overlay для всех модальных окон */
.overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(5px);
  z-index: 1000;
  align-items: center;
  justify-content: center;
  transition: opacity 0.3s ease;
  opacity: 0;
  pointer-events: none;
}
/* Активное состояние overlay */
.overlay.show {
  display: flex;
  opacity: 1;
  pointer-events: all;
}
/* Внутренний контейнер overlay для контента и отступов */
.overlay-inner {
  width: 100%;
  margin: 0 auto;
  padding: 20px 20px 40px;
  box-sizing: border-box;
}

/* ========================== */
/* === ОВЕРЛЕЙ: ВНЕШНИЙ ВИД === */
/* ========================== */

.theme-inner {
  margin: 0 20px;
  padding: 5px 20px 40px;
  background: #000;
  border-radius: 16px;
  width: 100%;
  box-sizing: border-box;
}
.theme-title {
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  margin-bottom: 40px;
  text-align: center;
  line-height: 1.1;
}
.theme-switcher {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #fff;
  border-radius: 24px;
  padding: 15px;
}
.theme-switch-label {
  font-family: 'cygre';
  font-weight: 800;
  font-size: 20px;
  color: black;
  line-height: 1.1;
}
/* Переключатель темы */
.switch {
  position: relative;
  display: inline-block;
  width: 130px;
  height: 70px;
}
.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: #636363;
  transition: .4s;
  border-radius: 70px;
}
.slider::before {
  position: absolute;
  content: "";
  height: 56px;
  width: 56px;
  border-radius: 50%;
  left: 7px;
  bottom: 7px;
  background-color: white;
  transition: .4s;
}
input:checked + .slider {
  background-color: #317BFF;
}
input:checked + .slider::before {
  transform: translateX(60px);
}

/* ================================ */
/* === ОВЕРЛЕЙ: ПОДПИСКА НА КАНАЛ === */
/* ================================ */

#subscribe-overlay {
  transition: opacity 0.3s ease;
  opacity: 0;
  pointer-events: none;
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(5px);
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
}
#subscribe-overlay.show {
  opacity: 1;
  pointer-events: all;
}
.subscribe-inner {
  margin: 0;
  background: black;
  border-radius: 24px;
  padding: 15px 10px 20px;
  width: calc(100% - 40px);
  text-align: center;
  box-sizing: border-box;
}
.subscribe-text {
  margin: 0;
  margin-bottom: 25px;
  font-family: 'geologica';
  font-size: 18px;
  font-weight: 400;
  color: white;
  line-height: 1.4;
}
.subscribe-btn {
  display: inline-block;
  background: #317BFF;
  color: black;
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 400;
  padding: 12px 35px;
  border-radius: 100px;
  text-decoration: none;
}

/* ============================ */
/* === ОВЕРЛЕЙ: СВЯЗЬ С НАМИ === */
/* ============================ */

#contact-overlay {
  padding: 0 20px;
}
.contact-popup {
  background: black;
  color: white;
  padding: 50px 20px 50px;
  border-radius: 16px;
  width: 100%;
  font-family: 'geologica';
  text-align: center;
  box-sizing: border-box;
}
.contact-title {
  font-family: 'cygre';
  font-weight: 800;
  font-size: 24px;
  margin-bottom: 20px;
}
.contact-text {
  font-family: 'geologica';
  font-size: 18px;
  font-weight: 300;
  margin-bottom: 30px;
  line-height: 1.2;
}
.contact-btn {
  display: inline-block;
  background: #317BFF;
  color: white;
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 300;
  padding: 15px 35px;
  border-radius: 100px;
  text-decoration: none;
}

/* ======================= */
/* === ОВЕРЛЕЙ: ЗАДАНИЯ === */
/* ======================= */

#task-overlay {
  z-index: 99999;
  position: fixed;
  inset: 0;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 20px;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(5px);
  transition: opacity 0.3s ease;
  opacity: 0;
  pointer-events: none;
  box-sizing: border-box;
}
#task-overlay.show {
  display: flex;
  opacity: 1;
  pointer-events: all;
}
.task-popup {
  background: #111111;
  color: white;
  padding: 20px 22.5px 28px;
  border-radius: 24px;
  width: calc(100% - 40px);
  max-width: none;
  font-family: 'geologica';
  text-align: center;
  margin: 0 auto;
}
.task-label {
  font-family: 'cygre';
  font-weight: 800;
  font-size: 24px;
  margin-bottom: 20px;
}
.task-text {
  font-size: 16px;
  font-weight: 400;
  margin-bottom: 20px;
  line-height: 1.4;
}
.task-action {
  font-family: 'geologica';
  font-weight: 500;
  padding: 13px 26px;
  background: #317BFF;
  color: white;
  border: none;
  border-radius: 100px;
  font-size: 14px;
  cursor: pointer;
}

/* ======================== */
/* === ОВЕРЛЕЙ: СОЦСЕТИ === */
/* ======================== */

#social-overlay {
  position: fixed;
  inset: 0;
  z-index: 999;
  background: rgba(0, 0, 0, 0.6);
  display: none;
  align-items: center;
  justify-content: center;
  padding: 0 20px;
  backdrop-filter: blur(5px);
  transition: opacity 0.3s ease;
}
#social-overlay.show {
  display: flex;
}
.social-content {
  background: black;
  border-radius: 16px;
  padding: 40px 10px;
  width: 100%;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.social-content h2 {
  margin: 0 0 20px;
  font-family: 'cygre';
  font-size: 24px;
  font-weight: 800;
  color: white;
  text-align: center;
  text-transform: uppercase;
  letter-spacing: 1px;
}
.social-link {
  background: white;
  border-radius: 24px;
  padding: 10px 10px 10px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  color: black;
  box-sizing: border-box;
  position: relative;
  line-height: 1.1;
}
.arrow-icon {
  background: #3A83FF;
  border-radius: 16px;
  width: 72px;
  height: 53px;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-shrink: 0;
}
.arrow-icon img {
  width: 22px;
  height: 22px;
  transition: transform 0.3s ease;
}
.arrow-icon.rotated img {
  transform: rotate(180deg);
}
.social-link.telegram {
  flex-direction: column;
  align-items: flex-start;
  position: relative;
  padding-right: 90px;
}
.social-link.telegram .arrow-icon {
  position: absolute;
  top: 10px;
  right: 10px;
}
.telegram-label {
  opacity: 1;
  transition: opacity 0.3s ease;
}
.social-link.telegram.expanded .telegram-label {
  opacity: 0.5;
}
.social-hidden-list {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, opacity 0.3s ease;
  font-family: 'geologica';
  font-size: 20px;
  font-weight: 800;
  color: black;
  margin-top: 10px;
  line-height: 1.2;
}
.social-link.telegram.expanded .social-hidden-list {
  max-height: 500px;
  opacity: 1;
}
.channel-name {
  display: block;
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  color: black;
  text-decoration: none;
  margin-bottom: 8px;
  transition: opacity 0.3s ease;
}
.channel-name:hover {
  opacity: 0.6;
}
.social-link.instagram {
  flex-direction: column;
  align-items: flex-start;
  gap: 20px;
}
.top-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}
.social-text {
  font-family: 'cygre';
  font-size: 20px;
  font-weight: 800;
  color: black;
  white-space: nowrap;
}
.insta-note {
  text-align: left;
  font-family: 'geologica';
  font-size: 10px;
  font-weight: 300;
  color: #888;
  opacity: 0.5;
  line-height: 1.2;
  max-width: 100%;
}

/* ============================== */
/* === ОВЕРЛЕЙ: ПОДТВЕРЖДЕНИЕ УДАЛЕНИЯ === */
/* ============================== */

.overlay-delete {
  position: fixed;
  z-index: 9999;
  inset: 0;
  display: none;
  background: rgba(0,0,0,0.7);
  justify-content: center;
  align-items: center;
  padding-left: 20px;
  padding-right: 20px;
}
.overlay-delete.active { display: flex; }
.overlay-delete-content {
  background: #393939;
  border-radius: 16px;
  padding: 20px 15px;
  width: 100%;
  text-align: center;
  color: white;
  font-family: 'geologica';
}
.overlay-delete-title {
  font-family: 'geologica';
  font-size: 16px;
  font-weight: 500;
  margin-bottom: 15px;
}
.overlay-delete-text {
  font-family: 'geologica';
  font-size: 14px;
  font-weight: 300;
  margin-bottom: 25px;
  line-height: 1.1;
}
.overlay-delete-buttons {
  display: flex;
  justify-content: space-between;
  gap: 12px;
}
.btn.cancel {
  flex: 1;
  background: #676767;
  color: white;
  border-radius: 100px;
  padding: 10px 0;
  font-weight: 300;
  border: none;
}
.btn.delete {
  flex: 1;
  background: none;
  color: #FF3D3D;
  border: 0.5px solid #FF3D3D;
  border-radius: 999px;
  padding: 10px 0;
  font-weight: 300;
}

/* ============================== */
/* === СВЕТЛАЯ ТЕМА (LIGHT)   === */
/* ============================== */

/*
body.light — активирует все эти стили при смене темы на светлую
*/
body.light {
  background-color: #DFD7D0; /* Общий светлый фон приложения */
  color: black;              /* Базовый цвет текста */
}

/* === Основные заголовки и подписи (делает текст чёрным) === */
body.light .title,                /* Главный заголовок на странице */
body.light .settings-title,       /* Заголовок блока настроек */
body.light .nickname,             /* Никнейм пользователя */
body.light .tab,                  /* Табы меню (неактивные) */
body.light .sub-1,                /* Название задания (подписка) */
body.light .sub-2,                /* Описание задания */
body.light .drop-timer,           /* Таймер до дропа */
body.light .balance-nick,         /* Ник в блоке баланса */
body.light .level-text,           /* Текст уровня (например, XP) */
body.light .profile-info .dot,    /* Разделитель-точка в профиле */
body.light .quests-title,         /* Заголовок страницы заданий */
body.light .leaderboard-title,    /* Заголовок таблицы лидеров */
body.light .stat-title,           /* Заголовок статистики */
body.light .stat-subtitle,        /* Подзаголовок статистики */
body.light .achievements-title,   /* Заголовок достижений */
body.light .achievements-subcount /* Кол-во достижений */
{
  color: black;     /* Все эти заголовки — чёрные */
  opacity: 1;       /* Всегда 100% видимость */
}

/* Активный таб в светлой теме (чёрный фон, белый текст) */
body.light .tab.active {
  background: black;
  color: white;
}

/* Нижнее меню: делаем его светлее и немного прозрачнее */
body.light .nav-menu {
  background: rgba(255,255,255,0.75);
}

/* Фон анимированного кружка под иконкой меню */
body.light .nav-bg {
  background: #000; /* Чёрный, но прозрачный */
  opacity: 0.2;
}

/* === Карточки, кнопки и все основные белые блоки приложения === */
body.light .task,              /* Одна задача на главной */
body.light .main-card,         /* Главная карточка */
body.light .balance-card,      /* Карточка баланса */
body.light .profile-card,      /* Карточка в профиле */
body.light .setting-card,      /* Карточка настройки */
body.light .buy-btn,           /* Кнопка "Купить" */
body.light .more-btn,          /* Кнопка "Ещё" */
body.light .clc-card,          /* Широкая карточка (например, спецпредложение) */
body.light .task-btn,          /* Кнопка выполнить задание */
body.light .task-popup,        /* Попап задания */
body.light .overlay-inner,     /* Внутренний контейнер оверлея */
body.light .daily-reward,      /* Ежедневная награда */
body.light .reward-btn,        /* Кнопка ежедневки */
body.light .quest-card,        /* Карточка квеста */
body.light .leader-card,       /* Карточка в таблице лидеров */
body.light .stat-card,         /* Карточка статистики */
body.light .achievement-card,  /* Карточка достижения */
body.light .search-fab,        /* FAB-кнопка поиска */
body.light .card-placeholder   /* Плейсхолдер карточки */
{
  background-color: #ffffff; /* Белый фон */
  color: #000;               /* Чёрный текст */
}

/* Отдельно для карточки настроек (если вдруг выпадет из общего списка выше) */
body.light .setting-card {
  background: white;   /* Белый фон */
  color: black;        /* Чёрный текст */
}

/* ——— Кнопки синие и зелёные (shop-btn, quests-btn, зелёные достижения) ——— */
body.light .shop-btn,             /* Кнопка "В магазин" */
body.light .quests-btn,           /* Кнопка "Все квесты" */
body.light .achievement-btn.green /* Кнопка "Забрать награду" (зелёная) */
{
  background-color: #317BFF; /* Синий фон */
  color: white;              /* Белый текст */
}

/* Синие action-кнопки внутри задач и попапов */
body.light .task-action,      /* Кнопка в попапе задания */
body.light .subscribe-btn,    /* Кнопка "Подписаться" */
body.light .task-btn          /* Кнопка выполнить задание */
{
  background-color: #317BFF; /* Синий фон */
  color: #fff;               /* Белый текст */
}

/* Прогресс-бар для уровня (зелёный) */
body.light .level-fill.green {
  background-color: #048876; /* Ярко-зелёный */
}

/* Футер главной карточки — серый */
body.light .card-footer {
  background: #D9D9D9;
}

/* Отключённая карточка профиля */
body.light .profile-card.is-disabled {
  background: #ccc;  /* Светло-серый */
}

/* Различные состояния кнопок профиля */
body.light .achievement-btn.ghost {
  background-color: #fff;   /* Белый фон */
  border-color: #000;       /* Чёрная рамка */
  color: #000;              /* Чёрный текст */
}
body.light .achievement-btn.blue {
  background-color: #317BFF; /* Синий фон */
  color: white;              /* Белый текст */
}

/* Чёрный цвет текста прогресс-колец (достижения) */
body.light .progress-text {
  color: #000;
}

/* === МОЙ СЧЁТ: стили для кругов уровней и линии === */
body.light .level.current { /* Текущий уровень */
  border-color: #048876;  /* Зелёная обводка */
  color: #048876;         /* Зелёный текст */
}
body.light .level.passed { /* Пройденный уровень */
  background-color: #048876; /* Зелёный фон */
  color: white;
}
body.light .level.upcoming { /* Следующий уровень */
  border-color: rgba(0,0,0,0.2);  /* Светлая обводка */
  color: rgba(0,0,0,0.4);         /* Бледный текст */
}
body.light .dotted-line,          /* Обычная линия */
body.light .dotted-line.current-link { /* Активная линия */
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(0,0,0,0.2),
    rgba(0,0,0,0.2) 6px,
    transparent 6px,
    transparent 12px
  );
}
body.light .level-status-bar { /* Нижняя плашка прогресса */
  background-color: #048876;  /* Ярко-зелёная */
  color: white;
}

/* === ПОИСК: FAB-кнопка, инпут, иконка === */
body.light .search-fab {    /* Кнопка поиска (FAB) */
  background-color: #ccc;
}
body.light .search-input {  /* Строка поиска */
  color: black;
}
body.light .search-icon {   /* Иконка поиска */
  filter: invert(1);
}

/* === ВНЕШНИЙ ВИД (оверлей смены темы) === */
body.light .theme-inner {
  background: #E0D6CE;  /* Светлый фон */
}
body.light .theme-title {
  color: #000;          /* Чёрный заголовок */
}
